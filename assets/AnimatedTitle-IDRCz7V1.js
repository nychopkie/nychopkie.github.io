import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{g as F,r,h as V,i as _,w as S,c as B,o as M,a as N,j,t as A,k as C}from"./index-W7NBYp5D.js";const E={class:"title"},P={key:1,class:"typed"},U={__name:"AnimatedTitle",props:{items:{type:Array,default:()=>["Hello!","你好啊！","Welcome!!","Hi!!!","歡迎！"]},interval:{type:Number,default:3e3},loop:{type:Boolean,default:!0},animation:{type:String,default:"fade",validator:o=>["fade","slide","scale","type"].includes(o)},startIndex:{type:Number,default:0},pauseOnHover:{type:Boolean,default:!0},fallback:{type:String,default:"Hello"},typingSpeed:{type:Number,default:75},backtrack:{type:Boolean,default:!0},backtrackSpeed:{type:Number,default:40},initialText:{type:String,default:"Hello!"},initialDelay:{type:Number,default:500}},setup(o){const e=o,v=F(()=>Array.isArray(e.items)&&e.items.length>0),u=r(Math.min(Math.max(0,e.startIndex),Math.max(0,e.items.length-1))||0),l=r(""),f=r(null),m=r(null),c=r(null),i=r(!1),t=r(0),s=r(!1);function d(){f.value&&(clearInterval(f.value),f.value=null)}function T(){m.value&&(clearTimeout(m.value),m.value=null)}function x(){c.value&&(clearTimeout(c.value),c.value=null)}function p(){d(),T(),x()}function b(n=0){d(),s.value=!1;const a=e.items[u.value]??"";if(t.value=n,l.value=a.slice(0,t.value),t.value>=a.length){h();return}i.value||(f.value=setInterval(()=>{t.value++,l.value=a.slice(0,t.value),t.value>=a.length&&(d(),h())},Math.max(1,e.typingSpeed)))}function I(n=null){d(),s.value=!0;const a=e.items[u.value]??"";if(t.value=n??l.value.length,l.value=a.slice(0,t.value),t.value<=0){s.value=!1,y();return}i.value||(f.value=setInterval(()=>{t.value--,l.value=a.slice(0,t.value),t.value<=0&&(d(),s.value=!1,y())},Math.max(1,e.backtrackSpeed)))}function g(){if(p(),s.value=!1,!v.value){l.value=e.fallback;return}l.value="",b(0)}function h(){T(),!(!e.loop&&u.value>=e.items.length-1)&&(e.interval<=0||(m.value=setTimeout(()=>{i.value||(e.backtrack?I():y())},e.interval)))}function y(){if(v.value){if(u.value<e.items.length-1)u.value++;else if(e.loop)u.value=0;else return;g()}}function k(){if(p(),!v.value){l.value=e.fallback;return}i.value=!1,g()}function H(){p(),i.value=!1,s.value=!1}function D(){i.value=!0,p()}function O(){if(!i.value||(i.value=!1,!v.value))return;const n=e.items[u.value]??"";if(s.value){l.value.length>0?I(l.value.length):y();return}l.value.length<n.length?b(l.value.length):h()}return V(()=>{const n=e.initialText||e.fallback||"";n&&e.initialDelay>0?(l.value=n,x(),c.value=setTimeout(()=>{l.value="Hello!",k(),c.value=null},e.initialDelay)):k()}),_(H),S(()=>[e.items,e.interval],()=>{if(!v.value){H(),u.value=0,l.value=e.fallback;return}u.value>=e.items.length&&(u.value=0),k()},{deep:!0}),S(u,()=>{g()}),(n,a)=>(M(),B("div",{class:"animated-title",onMouseenter:a[0]||(a[0]=$=>o.pauseOnHover&&D()),onMouseleave:a[1]||(a[1]=$=>o.pauseOnHover&&O()),role:"heading","aria-live":"polite"},[N("h1",E,[v.value?(M(),B("span",P,A(l.value),1)):j(n.$slots,"default",{key:0},()=>[C(A(o.fallback),1)]),a[2]||(a[2]=N("span",{class:"caret","aria-hidden":"true"},"|",-1))])],32))}},z=w(U,[["__scopeId","data-v-b39dabd9"]]);export{z as default};
