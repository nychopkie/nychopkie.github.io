import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{g as w,r as i,h as F,i as V,w as I,c as B,o as M,a as S,j as _,t as H,k as j}from"./index-D7zIB_XU.js";const C={class:"title"},D={key:1,class:"typed"},E={__name:"AnimatedTitle",props:{items:{type:Array,default:()=>["Hello!","你好啊！","Welcome!!","Hi!!!","歡迎！"]},interval:{type:Number,default:3e3},loop:{type:Boolean,default:!0},animation:{type:String,default:"fade",validator:o=>["fade","slide","scale","type"].includes(o)},startIndex:{type:Number,default:0},pauseOnHover:{type:Boolean,default:!0},fallback:{type:String,default:"Hello"},typingSpeed:{type:Number,default:75},backtrack:{type:Boolean,default:!0},backtrackSpeed:{type:Number,default:40}},setup(o){const e=o,v=w(()=>Array.isArray(e.items)&&e.items.length>0),u=i(Math.min(Math.max(0,e.startIndex),Math.max(0,e.items.length-1))||0),a=i(""),f=i(null),d=i(null),n=i(!1),l=i(0),s=i(!1);function c(){f.value&&(clearInterval(f.value),f.value=null)}function h(){d.value&&(clearTimeout(d.value),d.value=null)}function m(){c(),h()}function k(r=0){c(),s.value=!1;const t=e.items[u.value]??"";if(l.value=r,a.value=t.slice(0,l.value),l.value>=t.length){y();return}n.value||(f.value=setInterval(()=>{l.value++,a.value=t.slice(0,l.value),l.value>=t.length&&(c(),y())},Math.max(1,e.typingSpeed)))}function x(r=null){c(),s.value=!0;const t=e.items[u.value]??"";if(l.value=r??a.value.length,a.value=t.slice(0,l.value),l.value<=0){s.value=!1,p();return}n.value||(f.value=setInterval(()=>{l.value--,a.value=t.slice(0,l.value),l.value<=0&&(c(),s.value=!1,p())},Math.max(1,e.backtrackSpeed)))}function g(){if(m(),s.value=!1,!v.value){a.value=e.fallback;return}a.value="",k(0)}function y(){h(),!(!e.loop&&u.value>=e.items.length-1)&&(e.interval<=0||(d.value=setTimeout(()=>{n.value||(e.backtrack?x():p())},e.interval)))}function p(){if(v.value){if(u.value<e.items.length-1)u.value++;else if(e.loop)u.value=0;else return;g()}}function b(){if(m(),!v.value){a.value=e.fallback;return}n.value=!1,g()}function T(){m(),n.value=!1,s.value=!1}function N(){n.value=!0,m()}function A(){if(!n.value||(n.value=!1,!v.value))return;const r=e.items[u.value]??"";if(s.value){a.value.length>0?x(a.value.length):p();return}a.value.length<r.length?k(a.value.length):y()}return F(b),V(T),I(()=>[e.items,e.interval],()=>{if(!v.value){T(),u.value=0,a.value=e.fallback;return}u.value>=e.items.length&&(u.value=0),b()},{deep:!0}),I(u,()=>{g()}),(r,t)=>(M(),B("div",{class:"animated-title",onMouseenter:t[0]||(t[0]=O=>o.pauseOnHover&&N()),onMouseleave:t[1]||(t[1]=O=>o.pauseOnHover&&A()),role:"heading","aria-live":"polite"},[S("h1",C,[v.value?(M(),B("span",D,H(a.value),1)):_(r.$slots,"default",{key:0},()=>[j(H(o.fallback),1)]),t[2]||(t[2]=S("span",{class:"caret","aria-hidden":"true"},"|",-1))])],32))}},W=$(E,[["__scopeId","data-v-7801964b"]]);export{W as default};
