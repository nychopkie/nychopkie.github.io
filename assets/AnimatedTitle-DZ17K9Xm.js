import{A as $}from"./aos-B8m2xesu.js";import{h as w,r as o,i as F,j as V,w as H,c as A,o as B,a as M,k as j,t as N,l as C}from"./index-Sr5YW4_b.js";const E=(i,e)=>{const r=i.__vccOpts||i;for(const[t,l]of e)r[t]=l;return r},P={class:"title"},U={key:1,class:"typed"},W={__name:"AnimatedTitle",props:{items:{type:Array,default:()=>["Hello!","你好啊！","Welcome!!","Hi!!!","歡迎！"]},interval:{type:Number,default:3e3},loop:{type:Boolean,default:!0},animation:{type:String,default:"fade",validator:i=>["fade","slide","scale","type"].includes(i)},startIndex:{type:Number,default:0},pauseOnHover:{type:Boolean,default:!0},fallback:{type:String,default:"Hello"},typingSpeed:{type:Number,default:75},backtrack:{type:Boolean,default:!0},backtrackSpeed:{type:Number,default:40},initialText:{type:String,default:"Hello!"},initialDelay:{type:Number,default:100}},setup(i){$.init();const e=i,r=w(()=>Array.isArray(e.items)&&e.items.length>0),t=o(Math.min(Math.max(0,e.startIndex),Math.max(0,e.items.length-1))||0),l=o(""),f=o(null),m=o(null),c=o(null),s=o(!1),u=o(0),v=o(!1);function d(){f.value&&(clearInterval(f.value),f.value=null)}function T(){m.value&&(clearTimeout(m.value),m.value=null)}function x(){c.value&&(clearTimeout(c.value),c.value=null)}function p(){d(),T(),x()}function b(n=0){d(),v.value=!1;const a=e.items[t.value]??"";if(u.value=n,l.value=a.slice(0,u.value),u.value>=a.length){h();return}s.value||(f.value=setInterval(()=>{u.value++,l.value=a.slice(0,u.value),u.value>=a.length&&(d(),h())},Math.max(1,e.typingSpeed)))}function I(n=null){d(),v.value=!0;const a=e.items[t.value]??"";if(u.value=n??l.value.length,l.value=a.slice(0,u.value),u.value<=0){v.value=!1,y();return}s.value||(f.value=setInterval(()=>{u.value--,l.value=a.slice(0,u.value),u.value<=0&&(d(),v.value=!1,y())},Math.max(1,e.backtrackSpeed)))}function g(){if(p(),v.value=!1,!r.value){l.value=e.fallback;return}l.value="",b(0)}function h(){T(),!(!e.loop&&t.value>=e.items.length-1)&&(e.interval<=0||(m.value=setTimeout(()=>{s.value||(e.backtrack?I():y())},e.interval)))}function y(){if(r.value){if(t.value<e.items.length-1)t.value++;else if(e.loop)t.value=0;else return;g()}}function k(){if(p(),!r.value){l.value=e.fallback;return}s.value=!1,g()}function S(){p(),s.value=!1,v.value=!1}function O(){s.value=!0,p()}function D(){if(!s.value||(s.value=!1,!r.value))return;const n=e.items[t.value]??"";if(v.value){l.value.length>0?I(l.value.length):y();return}l.value.length<n.length?b(l.value.length):h()}return F(()=>{const n=e.initialText||e.fallback||"";n&&e.initialDelay>0?(l.value=n,x(),c.value=setTimeout(()=>{l.value="Hello!",k(),c.value=null},e.initialDelay)):k()}),V(S),H(()=>[e.items,e.interval],()=>{if(!r.value){S(),t.value=0,l.value=e.fallback;return}t.value>=e.items.length&&(t.value=0),k()},{deep:!0}),H(t,()=>{g()}),(n,a)=>(B(),A("div",{class:"animated-title",onMouseenter:a[0]||(a[0]=_=>i.pauseOnHover&&O()),onMouseleave:a[1]||(a[1]=_=>i.pauseOnHover&&D()),role:"heading","aria-live":"polite"},[M("h1",P,[r.value?(B(),A("span",U,N(l.value),1)):j(n.$slots,"default",{key:0},()=>[C(N(i.fallback),1)]),a[2]||(a[2]=M("span",{class:"caret","aria-hidden":"true"},"|",-1))])],32))}},G=E(W,[["__scopeId","data-v-e45f7929"]]);export{G as default};
